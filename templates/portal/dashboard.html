{% extends 'portal/base.html' %}
{% load dajaxice_templatetags %}


<!DOCTYPE html>
<html>
	<head>
		{% block title %}Dashboard{% endblock %}
		
		{% block head %} 
			{% dajaxice_js_import %}
		{% endblock %}
		
		{% block style %}
			#add_event {
				position:fixed;
				top:10px;
				right:100px;
				background-color:pink;
			}
			#add_event #submit {
				float:right;
				margin:5px;
			}			
			#add_event div {
				padding:5px;
			}
		{% endblock %}
		
		{% block script %}
		    $(document).ready(function(){
				Dajaxice.portal.reload(Dajax.process)
			});
			
			function change_type() {
				$('#id_date_time').prop('type', 'datetime-local');
			}
			
			function change_input() {
				value = $('#id_date_time').val();
				value = value.replace('T',' ');
				$('#id_date_time').prop('type', 'datetime');
				$('#id_date_time').val(value);
				return true;
			}
			
			function confirm_deletion() {
				if (confirm('Are you sure you want to delete this entry?')){
					return true;
				}				
				else return false;
			}
			
			function cancel() {
				$('#add_event').html('');
			}
			
			function change_editform() {
				value = $('#id_date_time').val();
				value = value.replace(' ','T');
				$('#id_date_time').prop('type', 'datetime-local');
				$('#id_date_time').val(value);
			}
			
		{% endblock %}
	</head>
	
	{% block body %}
		<h3>EVENTS</h3>
		
		<button onclick='Dajaxice.portal.add_event(Dajax.process)'>Add Event</button>
		
		<div id='div_events'>
		<!--<table class='table table-bordered table-hover' id='table_events'>
		{% for e in events %}
		<tr>
		<td><b> {{ e.name }} </b></td>
		<td> {{ e.description }} </td>
		<td> {{ e.date_time }} </td>
		<td> {{ e.location }} </td>
		<td>
			<button onclick="Dajaxice.portal.edit_event(Dajax.process, {'event_id': {{e.id }} })">Edit</button>
			<button onclick="Dajaxice.portal.delete_event(Dajax.process, {'event_id': {{ e.id }} })">Delete</button>
		</td>
		</tr>
		{% endfor %}
		</table>-->
		</div>
		
		<div id='add_event'></div>
		
		<h3>UPDATES</h3>
		
		<button onclick='Dajaxice.portal.add_update(Dajax.process)'>Add Update</button>
		
		<div id='div_updates'>
		<!--<table class='table table-bordered table-hover' id='table_updates'>
		{% for e in updates %}
		<tr>
		<th> {{ e.title }} </th>
		<td> {{ e.date_time }} </td>
		<td> {{ e.update }} </td>
		<td>
			<button onclick="Dajaxice.portal.edit_update(Dajax.process, {'update_id': {{e.id }} })">Edit</button>
			<button onclick="Dajaxice.portal.delete_update(Dajax.process, {'update_id': {{ e.id }} })">Delete</button>
		</td>
		</tr>
		{% endfor %}
		</table>-->
		</div>
		
	{% endblock %}
		
		
		
		
		
		
		
		
		